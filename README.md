# –ü—Ä–æ–µ–∫—Ç: –ê–Ω–∞–ª–∏–∑ –≤–∞–∫–∞–Ω—Å–∏–π —Å hh.ru –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –≤ PostgreSQL

[![Python](https://img.shields.io/badge/Python-3.9%2B-blue)](https://python.org)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15%2B-brightgreen)](https://postgresql.org)

## üìñ –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–¢–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Ç–µ–º–∞—Ç–∏–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
6. [–¢–∏–ø–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-—Ç–∏–ø–∏–∑–∞—Ü–∏—è-–∏-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
7. [SQL-–∑–∞–ø—Ä–æ—Å—ã](#-sql-–∑–∞–ø—Ä–æ—Å—ã)
8. [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

## üéØ –¢–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
- –°–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö –∏ –≤–∞–∫–∞–Ω—Å–∏—è—Ö —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω–æ–µ API hh.ru
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- –ê–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–∞–º

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
```text
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Å hh.ru —á–µ—Ä–µ–∑ REST API
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–π
‚úÖ –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–π –∑–∞—Ä–ø–ª–∞—Ç—ã –ø–æ –≤—ã–±–æ—Ä–∫–µ
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/yourusername/hh-vacancies-analysis.git
```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
createdb hh_vacancies
export DB_PASSWORD=yourpassword && export DB_USER=postgres
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```tree
hh-api/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ hh_api.py        # –ú–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å API HeadHunter
‚îÇ   ‚îî‚îÄ‚îÄ config.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ db_manager.py    # –ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ models.py        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö Pydantic
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ validators.py    # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ queries.sql          # –ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
```

## üñ• –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
```python
python main.py --employers 15478,2180,78638 --depth 3
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
```text
–¢–æ–ø-5 –∫–æ–º–ø–∞–Ω–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤–∞–∫–∞–Ω—Å–∏–π:
1. –Ø–Ω–¥–µ–∫—Å: 127 –≤–∞–∫–∞–Ω—Å–∏–π
2. –°–±–µ—Ä: 89 –≤–∞–∫–∞–Ω—Å–∏–π
3. Tinkoff: 75 –≤–∞–∫–∞–Ω—Å–∏–π

–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞: 156‚ÄØ‚ÇΩ
–í–∞–∫–∞–Ω—Å–∏–∏ —Å –∑–∞—Ä–ø–ª–∞—Ç–æ–π –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π: 23 –ø–æ–∑–∏—Ü–∏–∏
```

## üìù –¢–∏–ø–∏–∑–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
```python
def get_vacancies_with_keyword(self, keyword: str) -> List[Tuple[str, int]]:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ"""
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤
```python
class DBManager:
    """–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
    
    Attributes:
        conn_params (dict): –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
        cursor (psycopg2.extensions.cursor): –ö—É—Ä—Å–æ—Ä –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
    """
```

## üóÉ SQL-–∑–∞–ø—Ä–æ—Å—ã
### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
```sql
CREATE TABLE employers (
    id VARCHAR(20) PRIMARY KEY,
    name VARCHAR(100) NOT NULL CHECK (name <> ''),
    url VARCHAR(200) CHECK (url LIKE 'https://%')
);
```

### –ü—Ä–∏–º–µ—Ä —Å–ª–æ–∂–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
```sql
SELECT 
    e.name AS company,
    COUNT(v.id) AS vacancies,
    AVG((v.salary_from + v.salary_to)/2)::INTEGER AS avg_salary
FROM employers e
LEFT JOIN vacancies v ON e.id = v.employer_id
GROUP BY e.id
ORDER BY avg_salary DESC NULLS LAST;
```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE). –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å hh.ru —Å–æ–±–ª—é–¥–∞–π—Ç–µ [–ø—Ä–∞–≤–∏–ª–∞ API](https://dev.hh.ru/terms).

[‚¨ÜÔ∏è –ö –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)
